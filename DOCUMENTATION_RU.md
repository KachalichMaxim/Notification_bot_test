# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: Bitrix24 Telegram Webhook Service

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-—Å—Ç–µ–∫-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π)
3. [–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞](#–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
4. [–ú–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã](#–º–æ–¥—É–ª–∏-—Å–∏—Å—Ç–µ–º—ã)
5. [–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö](#–ø–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö)
6. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
7. [–û—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞](#–æ—Ç–ª–∞–¥–∫–∞-–∏-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)
8. [–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏](#—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)

---

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏ –≤ Bitrix24 –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –¥–ª—è —Å—Ä–æ—á–Ω—ã—Ö –∑–∞–¥–∞—á, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è–º–∏/—Ç–æ–ø-–º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü—Ä–∏–µ–º webhook-—Å–æ–±—ã—Ç–∏–π –æ—Ç Bitrix24 (OnTaskAdd, OnTaskUpdate)
- –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º –≤–∞–∂–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram
- –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Bitrix24 ‚Üí Telegram)

### –ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–ó–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —Å—Ç–∞—Ç—É—Å "–≤–∞–∂–Ω–æ"**
2. **–°–æ–∑–¥–∞—Ç–µ–ª—å –∑–∞–¥–∞—á–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π**
3. **–ó–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ä–æ—á–Ω–æ–π** (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏–ª–∏ –¥–µ–¥–ª–∞–π–Ω –≤ –±–ª–∏–∂–∞–π—à–∏–µ 24 —á–∞—Å–∞)
4. **–£ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω Telegram chat ID**

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Python 3.8+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Flask 2.3.3** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
- **python-dotenv** - –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env —Ñ–∞–π–ª–∞
- **requests** - HTTP-–∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram Bot API
- **JSON** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Bitrix24 Portal                       ‚îÇ
‚îÇ              (intranet.vedagent.ru)                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ Webhook Event (POST)
                     ‚îÇ OnTaskAdd / OnTaskUpdate
                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Flask Webhook Service                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  app.py - –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ webhook            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –ü—Ä–∏–µ–º –∏ –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö                       ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á (3 —É—Ä–æ–≤–Ω—è)                   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π             ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  config.py - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è                        ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫                           ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  user_mapping.py - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π                      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –ü–æ–ª—É—á–µ–Ω–∏–µ Telegram chat ID                   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ –†–∞–±–æ—Ç–∞ —Å JSON-—Ñ–∞–π–ª–æ–º –º–∞–ø–ø–∏–Ω–≥–æ–≤              ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  telegram_bot.py - –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ –í—ã–∑–æ–≤ Telegram Bot API                       ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ HTTP POST
                     ‚îÇ sendMessage
                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Telegram Bot API                            ‚îÇ
‚îÇ              (api.telegram.org)                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Telegram Chat                               ‚îÇ
‚îÇ         (–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
bitrix24_webhook/
‚îú‚îÄ‚îÄ app.py                    # –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ telegram_bot.py           # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
‚îú‚îÄ‚îÄ user_mapping.py           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ manage_mappings.py        # CLI-—É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞–ø–ø–∏–Ω–≥–∞–º–∏
‚îú‚îÄ‚îÄ env.example               # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ user_mappings.json        # JSON-—Ñ–∞–π–ª —Å –º–∞–ø–ø–∏–Ω–≥–∞–º–∏
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ README.md                 # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ (–∞–Ω–≥–ª.)
‚îî‚îÄ‚îÄ DOCUMENTATION_RU.md       # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:

#### –£—Ä–æ–≤–µ–Ω—å 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏

**–¶–µ–ª—å**: –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏

**–õ–æ–≥–∏–∫–∞**:
- –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–æ–ª—è: `STATUS`, `IMPORTANT`, `STATUS_ID`
- –ó–∞–¥–∞—á–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤–∞–∂–Ω–æ–π, –µ—Å–ª–∏:
  - –í –ø–æ–ª–µ `STATUS` —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è "important" –∏–ª–∏ "–≤–∞–∂–Ω–æ" (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ)
  - –ü–æ–ª–µ `IMPORTANT` —Ä–∞–≤–Ω–æ "1", "true", "yes", "–≤–∞–∂–Ω–æ" –∏–ª–∏ "important"
  - –ü–æ–ª–µ `STATUS_ID` —Ä–∞–≤–Ω–æ "2" –∏–ª–∏ "3" (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ ID –≤–∞–∂–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ Bitrix24)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –Ω–µ –≤–∞–∂–Ω–∞ ‚Üí **–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å**, –∏–Ω–∞—á–µ ‚Üí –ø–µ—Ä–µ–π—Ç–∏ –∫ —É—Ä–æ–≤–Ω—é 2

#### –£—Ä–æ–≤–µ–Ω—å 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞—Ç–µ–ª—è –∑–∞–¥–∞—á–∏

**–¶–µ–ª—å**: –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è–º–∏/—Ç–æ–ø-–º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏

**–õ–æ–≥–∏–∫–∞**:
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è `CREATED_BY` (ID —Å–æ–∑–¥–∞—Ç–µ–ª—è –∑–∞–¥–∞—á–∏)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —ç—Ç–æ–≥–æ ID –≤ —Å–ø–∏—Å–∫–µ `leaders` –≤ `user_mappings.json`
- –ï—Å–ª–∏ —Å–æ–∑–¥–∞—Ç–µ–ª—å –Ω–µ –≤ —Å–ø–∏—Å–∫–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π ‚Üí **–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å**

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ï—Å–ª–∏ —Å–æ–∑–¥–∞—Ç–µ–ª—å –Ω–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å ‚Üí **–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å**, –∏–Ω–∞—á–µ ‚Üí –ø–µ—Ä–µ–π—Ç–∏ –∫ —É—Ä–æ–≤–Ω—é 3

#### –£—Ä–æ–≤–µ–Ω—å 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏

**–¶–µ–ª—å**: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∑–∞–¥–∞—á–∞ —Å—Ä–æ—á–Ω–æ–π

**–õ–æ–≥–∏–∫–∞** (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É **–ò–õ–ò** - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–≥–æ —É—Å–ª–æ–≤–∏—è):

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞**:
   - –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –ø–æ–ª–µ `PRIORITY`
   - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å –ø–æ—Ä–æ–≥–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º `URGENT_PRIORITY_THRESHOLD` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 2)
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –≤ Bitrix24: 1 = –Ω–∏–∑–∫–∏–π, 2 = –≤—ã—Å–æ–∫–∏–π, 3 = –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π
   - –ï—Å–ª–∏ `PRIORITY >= URGENT_PRIORITY_THRESHOLD` ‚Üí –∑–∞–¥–∞—á–∞ —Å—Ä–æ—á–Ω–∞—è

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–¥–ª–∞–π–Ω–∞**:
   - –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –ø–æ–ª–µ `DEADLINE`
   - –ü–∞—Ä—Å–∏—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç datetime (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: ISO, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Bitrix24)
   - –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –¥–µ–¥–ª–∞–π–Ω–æ–º –∏ —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º
   - –ï—Å–ª–∏ –¥–µ–¥–ª–∞–π–Ω –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö `URGENT_DEADLINE_HOURS` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 24 —á–∞—Å–∞) ‚Üí –∑–∞–¥–∞—á–∞ —Å—Ä–æ—á–Ω–∞—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –Ω–µ —Å—Ä–æ—á–Ω–∞—è ‚Üí **–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å**, –∏–Ω–∞—á–µ ‚Üí **–æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ**

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–í–∞–∂–Ω–æ**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è **–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é** (`RESPONSIBLE_ID`), –∞ –Ω–µ —Å–æ–∑–¥–∞—Ç–µ–ª—é –∑–∞–¥–∞—á–∏.

**–õ–æ–≥–∏–∫–∞**:
1. –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è `RESPONSIBLE_ID` –∏–∑ –¥–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∏
2. –ò—â–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π Telegram chat ID –≤ `user_mappings.json` ‚Üí `telegram_chats`
3. –ï—Å–ª–∏ –º–∞–ø–ø–∏–Ω–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí **–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å** (–ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
4. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ —ç—Ç–æ—Ç chat ID

### –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤–∫–ª—é—á–∞–µ—Ç:
- **–¢–∏–ø —Å–æ–±—ã—Ç–∏—è**: "üÜï –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞" –∏–ª–∏ "üîÑ –ó–∞–¥–∞—á–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞"
- **–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏**: `TITLE`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π**: –∏–º—è –∏–ª–∏ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–°–æ–∑–¥–∞—Ç–µ–ª—å**: –∏–º—è –∏–ª–∏ ID —Å–æ–∑–¥–∞—Ç–µ–ª—è
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (–ù–∏–∑–∫–∏–π/–í—ã—Å–æ–∫–∏–π/–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)
- **–î–µ–¥–ª–∞–π–Ω**: –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∏–ª–∏ "–î–µ–¥–ª–∞–π–Ω –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
- **–°—Ç–∞—Ç—É—Å**: —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏
- **–°—Å—ã–ª–∫–∞**: –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–¥–∞—á—É –≤ Bitrix24

---

## –ú–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã

### 1. app.py - –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç Bitrix24 –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:

#### `is_task_important(task_data: Dict) -> bool`
- **–í—Ö–æ–¥**: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∏ –∏–∑ Bitrix24
- **–í—ã—Ö–æ–¥**: `True` –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ –≤–∞–∂–Ω–∞—è, `False` –∏–Ω–∞—á–µ
- **–õ–æ–≥–∏–∫–∞**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª—è `STATUS`, `IMPORTANT`, `STATUS_ID` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –≤–∞–∂–Ω–æ—Å—Ç–∏

#### `is_task_urgent(task_data: Dict) -> bool`
- **–í—Ö–æ–¥**: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∏
- **–í—ã—Ö–æ–¥**: `True` –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ —Å—Ä–æ—á–Ω–∞—è, `False` –∏–Ω–∞—á–µ
- **–õ–æ–≥–∏–∫–∞**: 
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (>= –ø–æ—Ä–æ–≥–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è)
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–µ–¥–ª–∞–π–Ω (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö N —á–∞—Å–æ–≤ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏)
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `True` –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —É—Å–ª–æ–≤–∏–µ

#### `extract_task_data(webhook_data: Dict) -> Optional[Dict]`
- **–í—Ö–æ–¥**: –ü–æ–ª–Ω—ã–π payload webhook –æ—Ç Bitrix24
- **–í—ã—Ö–æ–¥**: –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∏ –∏–ª–∏ `None`
- **–õ–æ–≥–∏–∫–∞**:
  - –ò–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `webhook_data["data"]`
  - –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: UPPERCASE –∏ lowercase)
  - –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –∑–∞–¥–∞—á—É –≤ Bitrix24
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

#### `@app.route("/webhook_tasks", methods=["POST"])`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ì–ª–∞–≤–Ω—ã–π endpoint –¥–ª—è –ø—Ä–∏–µ–º–∞ webhook-—Å–æ–±—ã—Ç–∏–π
- **–ü—Ä–æ—Ü–µ—Å—Å**:
  1. –ü—Ä–∏–µ–º –∏ –ø–∞—Ä—Å–∏–Ω–≥ JSON-–¥–∞–Ω–Ω—ã—Ö
  2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∏
  3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç—Ä–µ—Ö —É—Ä–æ–≤–Ω–µ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  4. –ü–æ–ª—É—á–µ–Ω–∏–µ Telegram chat ID –¥–ª—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
  5. –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  6. –í–æ–∑–≤—Ä–∞—Ç HTTP-–æ—Ç–≤–µ—Ç–∞

#### `@app.route("/health", methods=["GET"])`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Health check endpoint –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `{"status": "ok", "service": "bitrix24_webhook"}`

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
- –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON ‚Üí 400 Bad Request
- –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram ‚Üí 500 Internal Server Error
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ ‚Üí 500 —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º traceback

### 2. config.py - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ö–ª–∞—Å—Å `Config`**:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|-----------|----------|----------------------|
| `WEBHOOK_URL` | –ü–æ–ª–Ω—ã–π URL webhook endpoint | `http://bookntrack.online:8080/webhook_tasks` |
| `PORT` | –ü–æ—Ä—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ | `8080` |
| `HOST` | –•–æ—Å—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ | `0.0.0.0` |
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) | - |
| `TELEGRAM_API_URL` | URL –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π | –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| `BITRIX24_DOMAIN` | –î–æ–º–µ–Ω Bitrix24 –ø–æ—Ä—Ç–∞–ª–∞ | `intranet.vedagent.ru` |
| `BITRIX24_AUTH_TOKEN` | –¢–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ webhook | `gu3ckdtubvwpbnru6418p8wbdv1khsqq` |
| `URGENT_PRIORITY_THRESHOLD` | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è —Å—Ä–æ—á–Ω–æ—Å—Ç–∏ | `2` (–≤—ã—Å–æ–∫–∏–π) |
| `URGENT_DEADLINE_HOURS` | –ß–∞—Å–æ–≤ –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞ –¥–ª—è —Å—Ä–æ—á–Ω–æ—Å—Ç–∏ | `24` |
| `DEBUG` | –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ | `false` |

**–ú–µ—Ç–æ–¥ `validate()`**:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç `ValueError` –µ—Å–ª–∏ `TELEGRAM_BOT_TOKEN` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –í—ã–≤–æ–¥–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –µ—Å–ª–∏ `BITRIX24_DOMAIN` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `python-dotenv` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ `.env` —Ñ–∞–π–ª–∞
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### 3. user_mapping.py - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑—è–º–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ Bitrix24 –∏ Telegram

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö** (`user_mappings.json`):
```json
{
  "leaders": ["123", "456", "789"],
  "telegram_chats": {
    "123": "987654321",
    "456": "123456789",
    "789": "555666777"
  }
}
```

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:

#### `_load_mappings() -> Dict`
- **–ü—Ä–∏–≤–∞—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**: –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–∞–ø–ø–∏–Ω–≥–∏ –∏–∑ JSON-—Ñ–∞–π–ª–∞
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏ –æ—à–∏–±–∫–µ —á—Ç–µ–Ω–∏—è/–ø–∞—Ä—Å–∏–Ω–≥–∞

#### `_save_mappings(mappings: Dict) -> bool`
- **–ü—Ä–∏–≤–∞—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–∞–ø–ø–∏–Ω–≥–∏ –≤ JSON-—Ñ–∞–π–ª
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `True` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, `False` –ø—Ä–∏ –æ—à–∏–±–∫–µ

#### `is_leader(bitrix24_user_id: str) -> bool`
- **–í—Ö–æ–¥**: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Bitrix24 (—Å—Ç—Ä–æ–∫–∞)
- **–í—ã—Ö–æ–¥**: `True` –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Å–ø–∏—Å–∫–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞—Ç–µ–ª—è –∑–∞–¥–∞—á–∏ (—É—Ä–æ–≤–µ–Ω—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ 2)

#### `get_telegram_chat_id(bitrix24_user_id: str) -> Optional[str]`
- **–í—Ö–æ–¥**: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Bitrix24
- **–í—ã—Ö–æ–¥**: Telegram chat ID –∏–ª–∏ `None`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ chat ID –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### `add_leader(user_id: str) -> bool`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–ø–∏—Å–æ–∫ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `True` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ

#### `remove_leader(user_id: str) -> bool`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å–ø–∏—Å–∫–∞ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `True` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ

#### `add_telegram_mapping(bitrix24_user_id: str, telegram_chat_id: str) -> bool`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ Bitrix24 ‚Üí Telegram
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `True` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ

#### `remove_telegram_mapping(bitrix24_user_id: str) -> bool`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ Telegram –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `True` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ

#### `list_mappings() -> Dict`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –º–∞–ø–ø–∏–Ω–≥–∏
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: –ü–æ–ª–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —Å `leaders` –∏ `telegram_chats`

#### `get_all_leaders() -> List[str]`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö ID —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫ —Å ID

### 4. telegram_bot.py - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram Bot API

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**:

#### `send_task_notification(chat_id: str, task_data: Dict, event_type: str = "new") -> bool`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `chat_id`: Telegram chat ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è
  - `task_data`: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∏ (—Å–º. `extract_task_data`)
  - `event_type`: "new" –∏–ª–∏ "updated"
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `True` –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ, `False` –ø—Ä–∏ –æ—à–∏–±–∫–µ

**–ü—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏**:
1. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
   - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–¥–ª–∞–π–Ω–∞
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ HTML-—Å–æ–æ–±—â–µ–Ω–∏—è
2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:
   - URL: `https://api.telegram.org/bot{TOKEN}/sendMessage`
   - –ú–µ—Ç–æ–¥: POST
   - –§–æ—Ä–º–∞—Ç: JSON
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `chat_id`, `text`, `parse_mode` (HTML), `disable_web_page_preview`
3. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `requests`
   - –¢–∞–π–º–∞—É—Ç: 10 —Å–µ–∫—É–Ω–¥
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–æ—à–∏–±–æ–∫
4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—è `ok` –≤ –æ—Ç–≤–µ—Ç–µ API
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è**:
```html
{event_text}

üìã <b>{title}</b>

üë§ –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π: {responsible_name}
üë®‚Äçüíº –°–æ–∑–¥–∞—Ç–µ–ª—å: {creator_name}
‚ö° {priority_text}
üìÖ {deadline_text}
üìä –°—Ç–∞—Ç—É—Å: {status}

üîó <a href="{link}">–û—Ç–∫—Ä—ã—Ç—å –∑–∞–¥–∞—á—É</a>
```

### 5. manage_mappings.py - CLI-—É—Ç–∏–ª–∏—Ç–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞–ø–ø–∏–Ω–≥–∞–º–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```bash
python manage_mappings.py <command> [arguments]
```

**–ö–æ–º–∞–Ω–¥—ã**:
- `list` - –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –º–∞–ø–ø–∏–Ω–≥–∏
- `add-leader <user_id>` - –î–æ–±–∞–≤–∏—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è
- `remove-leader <user_id>` - –£–¥–∞–ª–∏—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è
- `add-telegram <user_id> <chat_id>` - –î–æ–±–∞–≤–∏—Ç—å Telegram –º–∞–ø–ø–∏–Ω–≥
- `remove-telegram <user_id>` - –£–¥–∞–ª–∏—Ç—å Telegram –º–∞–ø–ø–∏–Ω–≥
- `check-leader <user_id>` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º
- `get-chat <user_id>` - –ü–æ–ª—É—á–∏—Ç—å Telegram chat ID –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `leaders` - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π

---

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhook-—Å–æ–±—ã—Ç–∏—è

```
1. Bitrix24 –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST-–∑–∞–ø—Ä–æ—Å
   ‚Üì
2. app.py: webhook_tasks() –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
   ‚Üì
3. –ü–∞—Ä—Å–∏–Ω–≥ JSON ‚Üí webhook_data
   ‚Üì
4. extract_task_data() ‚Üí task_data
   ‚Üì
5. –£—Ä–æ–≤–µ–Ω—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ 1: is_task_important()
   ‚îú‚îÄ –ù–µ—Ç ‚Üí –í–æ–∑–≤—Ä–∞—Ç 200 OK, –ø—Ä–æ–ø—É—Å–∫
   ‚îî‚îÄ –î–∞ ‚Üí –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
   ‚Üì
6. –£—Ä–æ–≤–µ–Ω—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ 2: is_leader(creator_id)
   ‚îú‚îÄ –ù–µ—Ç ‚Üí –í–æ–∑–≤—Ä–∞—Ç 200 OK, –ø—Ä–æ–ø—É—Å–∫
   ‚îî‚îÄ –î–∞ ‚Üí –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
   ‚Üì
7. –£—Ä–æ–≤–µ–Ω—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ 3: is_task_urgent()
   ‚îú‚îÄ –ù–µ—Ç ‚Üí –í–æ–∑–≤—Ä–∞—Ç 200 OK, –ø—Ä–æ–ø—É—Å–∫
   ‚îî‚îÄ –î–∞ ‚Üí –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
   ‚Üì
8. user_mapping.py: get_telegram_chat_id(responsible_id)
   ‚îú‚îÄ –ù–µ –Ω–∞–π–¥–µ–Ω ‚Üí –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—Ç 200 OK
   ‚îî‚îÄ –ù–∞–π–¥–µ–Ω ‚Üí –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
   ‚Üì
9. telegram_bot.py: send_task_notification()
   ‚îú‚îÄ –û—à–∏–±–∫–∞ ‚Üí –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—Ç 500
   ‚îî‚îÄ –£—Å–ø–µ—Ö ‚Üí –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—Ç 200 OK
```

### –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

#### 1. –í—Ö–æ–¥—è—â–∏–π webhook –æ—Ç Bitrix24:
```json
{
  "event": "OnTaskAdd",
  "data": {
    "ID": "12345",
    "TITLE": "–°—Ä–æ—á–Ω–∞—è –∑–∞–¥–∞—á–∞ –æ—Ç —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è",
    "PRIORITY": "2",
    "DEADLINE": "2024-01-15 18:00:00",
    "RESPONSIBLE_ID": "456",
    "CREATED_BY": "789",
    "STATUS": "2",
    "IMPORTANT": "1"
  }
}
```

#### 2. –ü–æ—Å–ª–µ extract_task_data():
```python
{
    "id": "12345",
    "title": "–°—Ä–æ—á–Ω–∞—è –∑–∞–¥–∞—á–∞ –æ—Ç —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è",
    "priority": "2",
    "deadline": "2024-01-15 18:00:00",
    "responsible_id": "456",
    "responsible_name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "creator_id": "789",
    "creator_name": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",
    "status": "2",
    "link": "https://intranet.vedagent.ru/company/personal/user/456/tasks/task/view/12345/"
}
```

#### 3. –ü–æ—Å–ª–µ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫:
- –°—Ç–∞—Ç—É—Å: –≤–∞–∂–Ω–∞—è ‚úì
- –°–æ–∑–¥–∞—Ç–µ–ª—å: —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å ‚úì
- –°—Ä–æ—á–Ω–æ—Å—Ç—å: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–≤—ã—Å–æ–∫–∏–π) ‚úì
- Telegram chat ID: –Ω–∞–π–¥–µ–Ω ‚úì

#### 4. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram:
```json
{
  "chat_id": "987654321",
  "text": "üÜï –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞\n\nüìã <b>–°—Ä–æ—á–Ω–∞—è –∑–∞–¥–∞—á–∞ –æ—Ç —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è</b>\n\n...",
  "parse_mode": "HTML"
}
```

---

## –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ –ª—é–±–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `deploy.sh`:

```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
chmod +x deploy.sh

# –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
./deploy.sh install

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–ª—å–∫–æ .env —Ñ–∞–π–ª–∞
./deploy.sh setup-env

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–ª—å–∫–æ –º–∞–ø–ø–∏–Ω–≥–æ–≤
./deploy.sh setup-mappings

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
./deploy.sh run

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ systemd service (—Ç—Ä–µ–±—É–µ—Ç sudo)
sudo ./deploy.sh install-service

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
./deploy.sh status

# –°–ø—Ä–∞–≤–∫–∞
./deploy.sh help
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç deploy.sh

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
   - –ù–∞–ª–∏—á–∏–µ Python 3.8+
   - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞
   - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**:
   - –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑ requirements.txt
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞ (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ)
   - –°–æ–∑–¥–∞–Ω–∏–µ user_mappings.json

3. **Systemd –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
   - –°–æ–∑–¥–∞–Ω–∏–µ service —Ñ–∞–π–ª–∞
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ systemctl

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–ï—Å–ª–∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ —Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É, —Å–º. —Ä–∞–∑–¥–µ–ª [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è).

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª .env

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `env.example`:

```bash
cp env.example .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `TELEGRAM_BOT_TOKEN` - –ø–æ–ª—É—á–∏—Ç—å —É @BotFather –≤ Telegram

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `BITRIX24_DOMAIN` - —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `intranet.vedagent.ru`
- `DEBUG` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `true` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –§–∞–π–ª user_mappings.json

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```json
{
  "leaders": ["789", "101", "202"],
  "telegram_chats": {
    "456": "987654321",
    "789": "123456789",
    "101": "555666777"
  }
}
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Bitrix24**:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Bitrix24
2. URL –±—É–¥–µ—Ç –≤–∏–¥–∞: `https://intranet.vedagent.ru/company/personal/user/456/`
3. –ß–∏—Å–ª–æ –≤ –∫–æ–Ω—Ü–µ URL - —ç—Ç–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Telegram chat ID**:
1. –ù–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥ —Å –≤–∞—à–∏–º –±–æ—Ç–æ–º
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
3. –û—Ç–∫—Ä–æ–π—Ç–µ: `https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates`
4. –ù–∞–π–¥–∏—Ç–µ `"chat":{"id":987654321}` - —ç—Ç–æ chat ID

---

## –û—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏

–í —Ñ–∞–π–ª–µ `.env` —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
```
DEBUG=true
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å —Å —ç–º–æ–¥–∑–∏-–ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏:

- üîç - –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- ‚úÖ - –£—Å–ø–µ—à–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
- ‚ùå - –û—à–∏–±–∫–∞
- ‚ö†Ô∏è - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- ‚è≠Ô∏è - –ü—Ä–æ–ø—É—Å–∫ –∑–∞–¥–∞—á–∏ (–Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏—è–º)

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**:
- [ ] –ó–∞–¥–∞—á–∞ –∏–º–µ–µ—Ç —Å—Ç–∞—Ç—É—Å "–≤–∞–∂–Ω–æ" (`STATUS`, `IMPORTANT`, `STATUS_ID`)
- [ ] –°–æ–∑–¥–∞—Ç–µ–ª—å –∑–∞–¥–∞—á–∏ –≤ —Å–ø–∏—Å–∫–µ `leaders` –≤ `user_mappings.json`
- [ ] –ó–∞–¥–∞—á–∞ —Å—Ä–æ—á–Ω–∞—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç >= 2 –∏–ª–∏ –¥–µ–¥–ª–∞–π–Ω –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 24—á)
- [ ] –£ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å Telegram –º–∞–ø–ø–∏–Ω–≥
- [ ] `TELEGRAM_BOT_TOKEN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ë–æ—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**:
```bash
# –í–∫–ª—é—á–∏—Ç–µ DEBUG=true –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ manage_mappings.py –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∞–ø–ø–∏–Ω–≥–æ–≤
python manage_mappings.py check-leader <creator_id>
python manage_mappings.py get-chat <responsible_id>
```

#### 2. Webhook –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**:
- [ ] –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∞–∫—Ç–∏–≤–Ω–∞ –≤ Bitrix24
- [ ] URL webhook –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- [ ] –ü–æ—Ä—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Ñ–∞–π—Ä–≤–æ–ª–æ–º
- [ ] –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω –∏ —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
```bash
# Health check
curl http://localhost:8080/health

# –¢–µ—Å—Ç–æ–≤—ã–π webhook (–∑–∞–º–µ–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–º–∏)
curl -X POST http://localhost:8080/webhook_tasks \
  -H "Content-Type: application/json" \
  -d '{"event":"OnTaskAdd","data":{"ID":"123","TITLE":"Test"}}'
```

#### 3. –û—à–∏–±–∫–∏ Telegram API

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**:
- [ ] –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- [ ] –ë–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- [ ] Chat ID —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–≤–æ–π —Å—Ç—Ä–æ–∫–æ–π)
- [ ] –ë–æ—Ç –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞
curl https://api.telegram.org/bot<TOKEN>/getMe

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ chat_id)
curl -X POST https://api.telegram.org/bot<TOKEN>/sendMessage \
  -d "chat_id=987654321&text=Test"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ `python app.py` –ª–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å.

–î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
```bash
python app.py >> webhook.log 2>&1
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ systemd/journald –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

**–ú–µ—Å—Ç–æ**: `app.py`, —Ñ—É–Ω–∫—Ü–∏—è `webhook_tasks()`

**–ü—Ä–∏–º–µ—Ä**: –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–µ–∫—Ç—É
```python
# –ü–æ—Å–ª–µ —É—Ä–æ–≤–Ω—è 3, –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
project_id = task_data.get("project_id", "")
if project_id not in ALLOWED_PROJECTS:
    if Config.DEBUG:
        print("‚è≠Ô∏è Task project not allowed - skipping")
    return jsonify({"status": "ok", "message": "Project not allowed"}), 200
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ú–µ—Å—Ç–æ**: `telegram_bot.py`, —Ñ—É–Ω–∫—Ü–∏—è `send_task_notification()`

**–ü—Ä–∏–º–µ—Ä**: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ "–ü—Ä–æ–µ–∫—Ç"
```python
project = task_data.get("project_name", "–ù–µ —É–∫–∞–∑–∞–Ω")
message = f"""{event_text}

üìã <b>{task_data.get('title', '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è')}</b>
üìÅ –ü—Ä–æ–µ–∫—Ç: {project}
...
"""
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π

**–ú–µ—Å—Ç–æ**: `app.py`, —Ñ—É–Ω–∫—Ü–∏—è `webhook_tasks()`

**–ü—Ä–∏–º–µ—Ä**: –û–±—Ä–∞–±–æ—Ç–∫–∞ OnTaskDelete
```python
event = webhook_data.get("event", "")
if event == "OnTaskDelete":
    # –õ–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
    return jsonify({"status": "ok"}), 200
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –ú–∞–ø–ø–∏–Ω–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JSON

**–î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –ë–î**:
1. –î–æ–±–∞–≤–∏—Ç—å ORM (SQLAlchemy) –≤ `requirements.txt`
2. –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏ –≤ –Ω–æ–≤–æ–º –º–æ–¥—É–ª–µ `models.py`
3. –û–±–Ω–æ–≤–∏—Ç—å `user_mapping.py` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î –≤–º–µ—Å—Ç–æ JSON
4. –î–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (Alembic)

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
- –î–æ–±–∞–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ webhook
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Prometheus/Grafana
- –î–æ–±–∞–≤–∏—Ç—å endpoint `/metrics` –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –º–µ—Ç—Ä–∏–∫

### –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: Flask —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ

**–î–ª—è production**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Gunicorn —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤–æ—Ä–∫–µ—Ä–∞–º–∏
- –î–æ–±–∞–≤–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á (Celery + Redis) –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É —Å–∏—Å—Ç–µ–º—ã Bitrix24 Telegram Webhook Service. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë –¥–ª—è:

- –ü–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
- –û—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º
- –†–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –û–±—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Ä–∞–∑–¥–µ–ª–∞–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

